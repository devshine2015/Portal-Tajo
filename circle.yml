machine:
  node:
    version: 6.2.2

general:
  branches:
    ignore:
      - master
      - verified_candidate

deployment:
  dev:
    branch: dev
    commands:
      - ./ci/deployToDev.sh
    # Maksim's personal branch
    branch: dev@max
    commands:
      - ./ci/deployToDev.sh max
    # Kirill's personal branch
    branch: dev@karl
    commands:
      - ./ci/deployToDev.sh karl

  stage:
    # code, released at the end of previous sprint
    branch: stage@latest_release
    commands:
      - ./ci/deployToStage.sh
    
    # here current sprint code lives
    branch: stage@candidate
    commands:
      - ./ci/deployToStage.sh candidate
  
    # push here to try something on stage
    branch: stage@sandbox
    commands:
      - ./ci/deployToStage.sh sandbox

  production:
    branch: production
    commands:
      - ./ci/deploy.sh
